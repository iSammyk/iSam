<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
    <title>Document</title>
    <style>
        /* #skew:hover{
           border-radius: 20px;
            cursor: pointer;
            transform: skewY(20deg);

        } */
    </style>
</head>
<body style="background-color: black;">
    <div class="container container-fluid card mx-auto w-50 pb-5 text-center pt-2 mt-5 text-secondary" style="background: linear-gradient(to right, rgb(192, 172, 176), rgb(223, 224, 144), rgb(196, 148, 158), rgb(218, 156, 170));" >
        <h1>Set Alarm</h1>
        <h2 id="dates"></h2>
        <div class="mx-auto mt-5 text-dark py-5" style= "border: 10px solid rgb(74, 78, 77); display: flex; flex-direction: column; align-items: center; justify-content: center; width: 40%; height: 40vh; background-color: rgb(145, 141, 136); border-radius: 100%;">
            <h1 id="times" style="font-size: 40px;">
               00:00:00
            </h1>
        <button class="btn bttn btn-dark mt-3" onclick="setAlarm()">Set Alarm</button>

        <div style="width: 5%; height: 15vh; background-color:  rgb(145, 141, 136); position: absolute; top: 75%; left: 35%; border-radius: 50px; rotate: 30deg;"></div>
        <div style="width: 5%; height: 15vh; background-color:  rgb(145, 141, 136); position: absolute; top: 75%; right: 35%; border-radius: 50px; rotate: -30deg;"></div>
        </div>
        <div style="width: 7%; height: 8vh; background-color:  rgb(145, 141, 136); position: absolute; bottom: 55%; left: 35%; border-radius: 50px; rotate:20deg;"></div>
        <div style="width: 7%; height: 8vh; background-color:  rgb(145, 141, 136); position: absolute; bottom: 55%; right: 35%; border-radius: 50px; rotate: -20deg;"></div>
    </div>
        <div class="container d-flex column bg-secondary" style="display: flex; justify-content: space-evenly; width: 40%; padding: 1%; border-bottom-left-radius: 20px; border-bottom-right-radius: 20px; background: linear-gradient(to right, rgb(192, 172, 176), rgb(223, 224, 144), rgb(196, 148, 158), rgb(218, 156, 170));">
        <div class="column">
            <select class="form-select bg-secondary">
                <option value="Hour" selected hidden>Hour</option>  
            </select>
        </div>
        <div class="column">
            <select class="form-select bg-secondary">
                <option value="minutes" selected hidden>Minutes</option>  
            </select>
        </div>
        <div class="column">
            <select class="form-select bg-secondary">
                <option value="AM/PM" selected hidden>AM/PM</option>
            </select>
        </div>
        <button class="btn bttn btn-danger" onclick="stopAlarm()" >Stop Alarm</button>

    </div>
</body>
<script>
    let times = document.getElementById("times")
    selectMenu = document.querySelectorAll("select")
    content = document.querySelector("content")
    setAlarmBtn= document.querySelectorAll("button")
    let alarmTime;
    ringtone = new Audio("mixkit-alert-alarm-1005.wav")
    // let dates = document.getElementById("dates")

    // const date = new Date();
    for (let i = 12; i >0; i--) {
        i = i < 10 ? "0" + i : i;
        let option = `
        <option value="${i}">${i}</option>
        `
        selectMenu[0].firstElementChild.insertAdjacentHTML("afterend", option);
    }

    for (let i = 59; i >= 0; i--) {
        i = i < 10 ? "0" + i : i;
        let option = `
        <option value="${i}">${i}</option>
        `
        selectMenu[1].firstElementChild.insertAdjacentHTML("afterend", option);        
    }

  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
    for (let i = 2; i >0; i--) {
        let ampm = i == 1 ? "AM" : "PM";
        let option = `
        <option value="${ampm}">${ampm}</option>
        `
        selectMenu[2].firstElementChild.insertAdjacentHTML("afterend", option);       
    }

  const vales =  setInterval(() => {
        let date = new Date(),
        h = date.getHours(),
        m = date.getMinutes(),
        s = date.getSeconds(),
        ampm = "AM";
        if(h >= 12) {
            h = h - 12;
            ampm = "PM";
        }

        h = h == 0 ? h = 12 : h;
        h = h < 10 ? "0" + h : h; 
        m = m < 10 ? "0" + m : m; 
        s = s < 10 ? "0" + s : s; 
        times.innerHTML = `${h}:${m}:${s} ${ampm}`;
        
        if(alarmTime == `${h}:${m} ${ampm}`){
            ringtone.play();
            ringtone.loop = true;
            times.style.color = "green"
            // alert("it time")
        }
    }, 1000);

function setAlarm() {
    let time = `${selectMenu[0].value}:${selectMenu[1].value} ${selectMenu[2].value}`;
    alert("Alarm has been set succesfully");
    if (time.includes("Hour") || time.includes("Minute") || time.includes("AM/PM")) {
        return alert("Please, select a valid time to set Alarm!")
    };
        alarmTime = time;
}

function stopAlarm(){
    clearInterval(vales)
    ringtone.pause();
    // ringtone.loop = false;
    times.style.color = "#212529";
    // alert("Alarm has been stopped");
}

    setInterval(()=>{
    let date2 = new Date()
    dates.innerHTML = date2.toDateString()
}, 1000)

   
</script>
</html>